(()=>{var m=(t,e)=>()=>(t&&(e=t(t=0)),e);var d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);function r(t){let e=[],n=["javascript","react","node","css","html","typescript"],s=(t||"").toLowerCase();n.forEach(o=>{s.includes(o)&&e.push(o)});let a=s.match(/(\d+)\s+years?/);return{rawText:t,skills:e,yearsExperience:a?parseInt(a[1],10):null,probableTitle:(s.match(/frontend|developer|engineer/)||[""])[0]}}async function c(t){let e="PDF upload: filename "+t.name;return r(e)}var i=m(()=>{});var g=d(()=>{i();var u=document.getElementById("resumeText"),l=document.getElementById("resumeFile"),p=document.getElementById("saveProfileBtn"),f=document.getElementById("scrapeTabBtn"),E=document.getElementById("getSummaryBtn"),b=document.getElementById("jobsList");p.addEventListener("click",async()=>{let t=l.files&&l.files[0],e;t?e=await c(t):e=r(u.value||""),chrome.runtime.sendMessage({cmd:"SAVE_PROFILE",profile:e},n=>{alert("Profile saved. Skills: "+(e.skills||[]).join(", "))})});f.addEventListener("click",async()=>{let[t]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!t)return alert("No active tab");chrome.tabs.sendMessage(t.id,{cmd:"SCRAPE_JOBS_ON_PAGE"},e=>{if(chrome.runtime.lastError)return alert("Content script not present on this page.");alert("Scrape requested: "+(e.count||0)+" found.")})});E.addEventListener("click",()=>{chrome.runtime.sendMessage({cmd:"GET_JOBS_SUMMARY"},t=>{let e=t&&t.jobs||[];b.innerHTML=e.length?e.slice(0,50).map(n=>`<div class="job"><strong>${n.title}</strong> [${n.score}%]<br/>${n.summary||""}<br/><a href="${n.url}" target="_blank">Open</a></div>`).join(""):"<i>No jobs</i>"})})});g();})();
