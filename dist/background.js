(()=>{var b=Object.defineProperty,g=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var E=(e,t,o)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,m=(e,t)=>{for(var o in t||(t={}))O.call(t,o)&&E(e,o,t[o]);if(p)for(var o of p(t))x.call(t,o)&&E(e,o,t[o]);return e},u=(e,t)=>g(e,h(t));var A=(e,t)=>()=>(e&&(t=e(e=0)),t);var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);function S(e,t){let o=new Set((t.skills||[]).map(n=>n.toLowerCase())),r=(e.summary||e.requirements||"").toLowerCase(),a=Array.from(o).filter(n=>r.includes(n)).length,i=o.size?a/o.size:0,s=.5;if(t.yearsExperience&&r){let n=r.match(/(\d+)\+?\s*years?/i);n&&(s=t.yearsExperience>=parseInt(n[1],10)?1:.3)}let c=t.probableTitle&&e.title&&e.title.toLowerCase().includes(t.probableTitle)?1:0;return Math.round((i*.6+s*.3+c*.1)*100)}var _=A(()=>{});var L=y(()=>{_();var l="jf_jobs_store",d="jf_profile";chrome.runtime.onMessage.addListener((e,t,o)=>{if(e)if(e.cmd==="JOBS_FROM_PAGE")chrome.storage.local.get([l],r=>{let i=(r[l]||[]).concat(e.jobs.map(s=>u(m({},s),{scrapedAt:new Date().toISOString()})));chrome.storage.local.set({[l]:i})});else{if(e.cmd==="GET_JOBS_SUMMARY")return chrome.storage.local.get([l,d],r=>{let a=r[l]||[],i=r[d]||{skills:[],yearsExperience:null,probableTitle:null},s=a.map(c=>u(m({},c),{score:S(c,i)})).sort((c,f)=>f.score-c.score);o({jobs:s})}),!0;e.cmd==="SAVE_PROFILE"&&(chrome.storage.local.set({[d]:e.profile}),o({ok:!0}))}})});L();})();
